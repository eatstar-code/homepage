<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>EATSTAR STUDIO</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="EATSTAR STUDIO 공식 홈페이지. '공주시간도감' 앱을 만나보세요.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Noto+Sans+JP:wght@400;700&family=Noto+Sans+SC:wght@400;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    :root {
      --bg-color: #f4f7fc;
      --card-bg-color: #ffffff;
      --text-color: #333333;
      --heading-color: #1a237e;
      --primary-color: #4a60d4;
      --shadow-color: rgba(0, 0, 0, 0.1);
      --toggle-bg: #e0e0e0;
      --toggle-fg: #ffffff;
    }

    body.dark-mode {
      --bg-color: #121212;
      --card-bg-color: #1e1e1e;
      --text-color: #e0e0e0;
      --heading-color: #bb86fc;
      --primary-color: #90a4ff;
      --shadow-color: rgba(0, 0, 0, 0.4);
      --toggle-bg: #333;
      --toggle-fg: #1e1e1e;
    }

    body {
      font-family: 'Poppins', 'Segoe UI', 'Noto Sans SC', 'Noto Sans TC', 'Noto Sans JP', sans-serif;
      margin: 0;
      padding: 2rem 1rem;
      background-color: var(--bg-color);
      color: var(--text-color);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      max-width: 600px;
      width: 100%;
      background-color: var(--card-bg-color);
      border-radius: 20px;
      box-shadow: 0 10px 30px var(--shadow-color);
      padding: 2.5rem;
      text-align: center;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .studio-logo { font-size: 2.5rem; font-weight: 700; color: var(--heading-color); margin: 0; }
    .subtitle { font-size: 1.1rem; color: var(--text-color); opacity: 0.8; margin-bottom: 2rem; }

    .app-showcase {
      background-color: var(--bg-color);
      border-radius: 15px;
      padding: 1.5rem;
      margin-top: 2rem;
      display: flex;
      align-items: center;
      gap: 1.5rem;
      text-align: left;
      transition: background-color 0.3s;
    }
    
    .app-icon {
      width: 80px;
      height: 80px;
      border-radius: 16px;
      flex-shrink: 0;
      background-color: #ddd;
      object-fit: cover;
    }

    .app-info h3 { margin: 0 0 0.5rem 0; font-size: 1.5rem; color: var(--heading-color); }
    .app-info p { margin: 0; opacity: 0.9; }

    .google-play-btn { display: inline-block; margin-top: 1.5rem; transition: transform 0.2s ease; }
    .google-play-btn img { height: 50px; }
    .google-play-btn:hover { transform: scale(1.05); }
    
    .social-links { margin-top: 2.5rem; display: flex; justify-content: center; gap: 1.5rem; }
    .social-links a { color: var(--text-color); font-size: 1.8rem; transition: color 0.2s, transform 0.2s; }
    .social-links a:hover { color: var(--primary-color); transform: translateY(-3px); }

    .controls { position: absolute; top: 20px; right: 20px; display: flex; gap: 10px; z-index: 100; }
    .language-switcher { position: relative; }
    
    #lang-btn {
      background-color: var(--card-bg-color);
      border: none;
      border-radius: 20px;
      padding: 8px 16px;
      font-family: 'Poppins', sans-serif;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 10px var(--shadow-color);
      color: var(--text-color);
    }

    .lang-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 45px;
      background-color: var(--card-bg-color);
      border-radius: 10px;
      box-shadow: 0 4px 20px var(--shadow-color);
      overflow: hidden;
      padding: 5px 0;
    }
    .lang-menu.show { display: block; }
    .lang-item {
      display: block;
      padding: 10px 20px;
      color: var(--text-color);
      text-decoration: none;
      font-size: 0.9rem;
      transition: background-color 0.2s;
      white-space: nowrap;
    }
    .lang-item:hover { background-color: var(--bg-color); }

    #theme-toggle-btn {
      background-color: var(--card-bg-color);
      border: none;
      cursor: pointer;
      font-size: 1rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      color: var(--text-color);
      box-shadow: 0 2px 10px var(--shadow-color);
      transition: background-color 0.2s, transform 0.2s;
    }
    #theme-toggle-btn:hover { transform: scale(1.1); }

    footer { margin-top: 2rem; font-size: 0.9rem; color: var(--text-color); opacity: 0.6; }

    /* 언어별 폰트 최적화 */
    html[lang="zh-cn"] body,
    html[lang="zh-cn"] h1,
    html[lang="zh-cn"] h3,
    html[lang="zh-cn"] p {
      font-family: 'Noto Sans SC', sans-serif;
    }

    html[lang="zh-tw"] body,
    html[lang="zh-tw"] h1,
    html[lang="zh-tw"] h3,
    html[lang="zh-tw"] p {
      font-family: 'Noto Sans TC', sans-serif;
    }
  </style>
</head>
<body>

  <div class="controls">
    <div class="language-switcher">
      <button id="lang-btn">KO</button>
      <div id="lang-menu" class="lang-menu">
        <a href="#" class="lang-item" data-lang="ko">한국어</a>
        <a href="#" class="lang-item" data-lang="en">English</a>
        <a href="#" class="lang-item" data-lang="ja">日本語</a>
        <a href="#" class="lang-item" data-lang="zh-cn">简体中文</a>
        <a href="#" class="lang-item" data-lang="zh-tw">繁體中文</a>
      </div>
    </div>
    <button id="theme-toggle-btn"><i class="fas fa-moon"></i></button>
  </div>

  <div class="container">
    <h1 class="studio-logo">EATSTAR STUDIO</h1>
    <p class="subtitle" 
      data-ko="창의적인 아이디어를 현실로 만듭니다." 
      data-en="Bringing creative ideas to life."
      data-ja="創造的なアイデアを現実に。"
      data-zh-cn="将创意变为现实。"
      data-zh-tw="將創意變為現實。"></p>

    <div class="app-showcase">
      <img src="icon_ko.png" alt="App Icon" class="app-icon" id="app-icon"
        data-ko-src="icon_ko.png"
        data-en-src="icon_en.png"
        data-ja-src="icon_ja.png"
        data-zh-cn-src="icon_zh-cn.png"
        data-zh-tw-src="icon_zh-tw.png">
      
      <div class="app-info">
        <h3 id="app-title"
          data-ko="공주시간도감" 
          data-en="Gongju Time Archive"
          data-ja="コンジュ時間図鑑 – 公州歴史探訪"
          data-zh-cn="公州时间图鉴"
          data-zh-tw="公州時間圖鑑"></h3>
        <p id="app-desc"
          data-ko="여행의 모든 순간을 기록하고 공유하세요." 
          data-en="Record and share every moment of your journey."
          data-ja="旅のすべての瞬間を記録し、共有しましょう。"
          data-zh-cn="记录并分享您旅途中的每一个瞬间。"
          data-zh-tw="記錄並分享您旅途中的每一個瞬間。"></p>
      </div>
    </div>

    <a href="https://play.google.com/store/apps/details?id=com.eatstar.sigandogam" target="_blank" class="google-play-btn">
      <img src="https://play.google.com/intl/en_us/badges/static/images/badges/ko_badge_web_generic.png" alt="Google Play에서 다운로드">
    </a>

    <div class="social-links">
      <a href="https://github.com/eatstar-code" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
      <a href="mailto:eatstar.studio@gmail.com" title="Email"><i class="fas fa-envelope"></i></a>
      <a href="https://eatstar.tistory.com/" target="_blank" title="Tistory Blog"><i class="fas fa-blog"></i></a>
      <a href="https://buymeacoffee.com/eatstar200o" target="_blank" title="Buy Me a Coffee"><i class="fas fa-mug-hot"></i></a>
    </div>

    <footer>
      &copy; EATSTAR STUDIO 2025. All rights reserved.
    </footer>
  </div>

  <script>
    const themeToggleBtn = document.getElementById('theme-toggle-btn');
    const langBtn = document.getElementById('lang-btn');
    const langMenu = document.getElementById('lang-menu');
    const body = document.body;
    const appIcon = document.getElementById('app-icon');

    // 1. Theme Switcher
    themeToggleBtn.addEventListener('click', () => {
      body.classList.toggle('dark-mode');
      const isDarkMode = body.classList.contains('dark-mode');
      themeToggleBtn.innerHTML = isDarkMode ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
      localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
    });

    // 2. Language Switcher
    langBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        langMenu.classList.toggle('show');
    });

    document.querySelectorAll('.lang-item').forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();
            const selectedLang = this.dataset.lang;
            updateLanguage(selectedLang);
            langMenu.classList.remove('show');
        });
    });
    
    window.addEventListener('click', function(e) {
        if (!langBtn.contains(e.target)) {
            langMenu.classList.remove('show');
        }
    });

    function updateLanguage(lang) {
        document.querySelectorAll('[data-ko]').forEach(el => {
            el.textContent = el.dataset[lang];
        });
        
        document.documentElement.lang = lang;
        
        appIcon.src = appIcon.dataset[`${lang}Src`];
        
        langBtn.textContent = lang.toUpperCase();
        
        localStorage.setItem('language', lang);
    }

    // 3. Load Saved Preferences on Page Load
    document.addEventListener('DOMContentLoaded', () => {
      // Load Theme
      const savedTheme = localStorage.getItem('theme') || 'light';
      if (savedTheme === 'dark') {
        body.classList.add('dark-mode');
        themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
      }

      // Load Language with Browser Language Detection
      let initialLang = localStorage.getItem('language');

      if (!initialLang) {
        const browserLang = navigator.language || navigator.userLanguage;
        let detectedLang = 'ko';

        if (browserLang.startsWith('en')) detectedLang = 'en';
        else if (browserLang.startsWith('ja')) detectedLang = 'ja';
        else if (browserLang.toLowerCase() === 'zh-cn') detectedLang = 'zh-cn';
        else if (browserLang.toLowerCase().startsWith('zh')) detectedLang = 'zh-tw';
        else if (browserLang.startsWith('ko')) detectedLang = 'ko';
        
        initialLang = detectedLang;
      }
      
      updateLanguage(initialLang);
    });
  </script>

</body>
</html>
